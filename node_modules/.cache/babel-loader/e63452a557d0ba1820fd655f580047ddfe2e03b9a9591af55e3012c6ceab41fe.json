{"ast":null,"code":"// src/use-shortcut.ts\nimport { useEffect, useRef, useState } from \"react\";\nfunction isPrintableCharacter(event) {\n  const {\n    key\n  } = event;\n  return key.length === 1 || key.length > 1 && /[^a-zA-Z0-9]/.test(key);\n}\nfunction useShortcut() {\n  let props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  const {\n    timeout = 300,\n    preventDefault = () => true\n  } = props;\n  const [keys, setKeys] = useState([]);\n  const timeoutRef = useRef();\n  const flush = () => {\n    if (timeoutRef.current) {\n      clearTimeout(timeoutRef.current);\n      timeoutRef.current = null;\n    }\n  };\n  const clearKeysAfterDelay = () => {\n    flush();\n    timeoutRef.current = setTimeout(() => {\n      setKeys([]);\n      timeoutRef.current = null;\n    }, timeout);\n  };\n  useEffect(() => flush, []);\n  function onKeyDown(fn) {\n    return event => {\n      if (event.key === \"Backspace\") {\n        const keysCopy = [...keys];\n        keysCopy.pop();\n        setKeys(keysCopy);\n        return;\n      }\n      if (isPrintableCharacter(event)) {\n        const keysCopy = keys.concat(event.key);\n        if (preventDefault(event)) {\n          event.preventDefault();\n          event.stopPropagation();\n        }\n        setKeys(keysCopy);\n        fn(keysCopy.join(\"\"));\n        clearKeysAfterDelay();\n      }\n    };\n  }\n  return onKeyDown;\n}\nexport { useShortcut };","map":{"version":3,"names":["useEffect","useRef","useState","isPrintableCharacter","event","key","length","test","useShortcut","props","timeout","preventDefault","keys","setKeys","timeoutRef","flush","current","clearTimeout","clearKeysAfterDelay","setTimeout","onKeyDown","fn","keysCopy","pop","concat","stopPropagation","join"],"sources":["Y:/courseira/NewLemon/new-lemon/node_modules/@chakra-ui/menu/dist/chunk-CLDV4JKZ.mjs"],"sourcesContent":["// src/use-shortcut.ts\r\nimport { useEffect, useRef, useState } from \"react\";\r\nfunction isPrintableCharacter(event) {\r\n  const { key } = event;\r\n  return key.length === 1 || key.length > 1 && /[^a-zA-Z0-9]/.test(key);\r\n}\r\nfunction useShortcut(props = {}) {\r\n  const { timeout = 300, preventDefault = () => true } = props;\r\n  const [keys, setKeys] = useState([]);\r\n  const timeoutRef = useRef();\r\n  const flush = () => {\r\n    if (timeoutRef.current) {\r\n      clearTimeout(timeoutRef.current);\r\n      timeoutRef.current = null;\r\n    }\r\n  };\r\n  const clearKeysAfterDelay = () => {\r\n    flush();\r\n    timeoutRef.current = setTimeout(() => {\r\n      setKeys([]);\r\n      timeoutRef.current = null;\r\n    }, timeout);\r\n  };\r\n  useEffect(() => flush, []);\r\n  function onKeyDown(fn) {\r\n    return (event) => {\r\n      if (event.key === \"Backspace\") {\r\n        const keysCopy = [...keys];\r\n        keysCopy.pop();\r\n        setKeys(keysCopy);\r\n        return;\r\n      }\r\n      if (isPrintableCharacter(event)) {\r\n        const keysCopy = keys.concat(event.key);\r\n        if (preventDefault(event)) {\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n        }\r\n        setKeys(keysCopy);\r\n        fn(keysCopy.join(\"\"));\r\n        clearKeysAfterDelay();\r\n      }\r\n    };\r\n  }\r\n  return onKeyDown;\r\n}\r\n\r\nexport {\r\n  useShortcut\r\n};\r\n"],"mappings":"AAAA;AACA,SAASA,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AACnD,SAASC,oBAAoB,CAACC,KAAK,EAAE;EACnC,MAAM;IAAEC;EAAI,CAAC,GAAGD,KAAK;EACrB,OAAOC,GAAG,CAACC,MAAM,KAAK,CAAC,IAAID,GAAG,CAACC,MAAM,GAAG,CAAC,IAAI,cAAc,CAACC,IAAI,CAACF,GAAG,CAAC;AACvE;AACA,SAASG,WAAW,GAAa;EAAA,IAAZC,KAAK,uEAAG,CAAC,CAAC;EAC7B,MAAM;IAAEC,OAAO,GAAG,GAAG;IAAEC,cAAc,GAAG,MAAM;EAAK,CAAC,GAAGF,KAAK;EAC5D,MAAM,CAACG,IAAI,EAAEC,OAAO,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAMY,UAAU,GAAGb,MAAM,EAAE;EAC3B,MAAMc,KAAK,GAAG,MAAM;IAClB,IAAID,UAAU,CAACE,OAAO,EAAE;MACtBC,YAAY,CAACH,UAAU,CAACE,OAAO,CAAC;MAChCF,UAAU,CAACE,OAAO,GAAG,IAAI;IAC3B;EACF,CAAC;EACD,MAAME,mBAAmB,GAAG,MAAM;IAChCH,KAAK,EAAE;IACPD,UAAU,CAACE,OAAO,GAAGG,UAAU,CAAC,MAAM;MACpCN,OAAO,CAAC,EAAE,CAAC;MACXC,UAAU,CAACE,OAAO,GAAG,IAAI;IAC3B,CAAC,EAAEN,OAAO,CAAC;EACb,CAAC;EACDV,SAAS,CAAC,MAAMe,KAAK,EAAE,EAAE,CAAC;EAC1B,SAASK,SAAS,CAACC,EAAE,EAAE;IACrB,OAAQjB,KAAK,IAAK;MAChB,IAAIA,KAAK,CAACC,GAAG,KAAK,WAAW,EAAE;QAC7B,MAAMiB,QAAQ,GAAG,CAAC,GAAGV,IAAI,CAAC;QAC1BU,QAAQ,CAACC,GAAG,EAAE;QACdV,OAAO,CAACS,QAAQ,CAAC;QACjB;MACF;MACA,IAAInB,oBAAoB,CAACC,KAAK,CAAC,EAAE;QAC/B,MAAMkB,QAAQ,GAAGV,IAAI,CAACY,MAAM,CAACpB,KAAK,CAACC,GAAG,CAAC;QACvC,IAAIM,cAAc,CAACP,KAAK,CAAC,EAAE;UACzBA,KAAK,CAACO,cAAc,EAAE;UACtBP,KAAK,CAACqB,eAAe,EAAE;QACzB;QACAZ,OAAO,CAACS,QAAQ,CAAC;QACjBD,EAAE,CAACC,QAAQ,CAACI,IAAI,CAAC,EAAE,CAAC,CAAC;QACrBR,mBAAmB,EAAE;MACvB;IACF,CAAC;EACH;EACA,OAAOE,SAAS;AAClB;AAEA,SACEZ,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}